---
page_title: "nullplatform_api_key Resource - nullplatform"
subcategory: ""
description: |-
  The API key resource allows you to configure an API key for the nullplatform API.
---

# nullplatform_api_key (Resource)

The API key resource allows you to configure an API key for the nullplatform API.

~> **WARNING:** The secret value of the API key will **only** be stored in the `tfstate` file and nowhere else. Once generated, the secret value **cannot be retrieved again**, not even by importing the resource. Make sure to **securely store** and protect the `tfstate` file from unauthorized access to avoid potential security risks.

## Examples

### Basic Example

```terraform
terraform {
  required_providers {
    nullplatform = {
      source  = "nullplatform/nullplatform"
    }
  }
}

provider "nullplatform" {}

resource "nullplatform_api_key" "my_api_key" {
  name = "Example API Key Name"

  grants {
    nrn        = "organization=1:account=1"
    role_slug  = "account:ops"
  }

  grants {
    nrn        = "organization=1:account=1"
    role_slug  = "account:admin"
  }

  tags {
    key = "example"
    value = "true"
  }
}

output "my_api_key_value" {
  value     = nullplatform_api_key.my_api_key.api_key
  sensitive = true
}

output "my_api_key_id" {
  value     = nullplatform_api_key.my_api_key.id
}
```

### Advanced Example

```terraform
terraform {
  required_providers {
    nullplatform = {
      source  = "nullplatform/nullplatform"
    }
  }
}

provider "nullplatform" {}

locals {
  grants = [
    {
      nrn = "organization=1:account=1"
      role_slug = "account:admin"
    },
    {
      nrn = "organization=1:account=1"
      role_slug = "account:ops"
    },
    {
      nrn = "organization=1:account=1"
      role_slug = "account:developer"
    }
  ]

  tags = [
    {
      key   = "ownership"
      value = "fintech"
    },
    {
      key   = "terraform"
      value = "true"
    }
  ]
}

resource "nullplatform_api_key" "my_api_key" {
  name = "Example API Key Name"

  dynamic "grants" {
    for_each = local.grants
    content {
      nrn       = grants.value.nrn
      role_slug = grants.value.role_slug
    }
  }

  dynamic "tags" {
    for_each = local.tags
    content {
      key   = tags.value.key
      value = tags.value.value
    }
  }
}

output "my_api_key_value" {
  value     = nullplatform_api_key.my_api_key.api_key
  sensitive = true
}

output "my_api_key_id" {
  value     = nullplatform_api_key.my_api_key.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `grants` (Block Set, Min: 1) List of grants associated with the API key. (see [below for nested schema](#nestedblock--grants))
- `name` (String) The name of the API key.

### Optional

- `tags` (Block Set) List of tags of the API key. (see [below for nested schema](#nestedblock--tags))

### Read-Only

- `api_key` (String, Sensitive) The API key value (only available after creation).
- `created_at` (String) Timestamp when the API key was created.
- `id` (String) The ID of this resource.
- `last_used_at` (String) Timestamp of the last usage of the API key.
- `masked_api_key` (String) The masked version of the API key.
- `owner_id` (Number) The ID of the user who owns the API key.
- `updated_at` (String) Timestamp when the API key was last updated.

<a id="nestedblock--grants"></a>
### Nested Schema for `grants`

Required:

- `nrn` (String) The NRN for the grant.

Optional:

- `role_id` (Number) The ID of the role. (Either role_id or role_slug must be set)
- `role_slug` (String) The slug of the role. (Either role_id or role_slug must be set)


<a id="nestedblock--tags"></a>
### Nested Schema for `tags`

Required:

- `key` (String) The key of the tag.
- `value` (String) The value of the tag.