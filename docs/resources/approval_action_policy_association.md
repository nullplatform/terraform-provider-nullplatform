---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "nullplatform_approval_action_policy_association Resource - nullplatform"
subcategory: ""
description: |-
  The approval_action_policy_association resource allows you to manage a 1:1 association between an approval action and a policy
---

# nullplatform_approval_action_policy_association (Resource)

The approval_action_policy_association resource allows you to manage a 1:1 association between an approval action and a policy. This resource ensures that an approval action can only be associated with one policy at a time.

~> **Ignore policies** When attaching policies using this resource ensure you are ignoring the policies property  in nullplatform_approval_action (otherwise will cause an infinite set of differences and run condition)

```terraform
  lifecycle {
    ignore_changes = [policies]
  }
```

## Example Usage

```terraform
terraform {
  required_providers {
    nullplatform = {
      source = "nullplatform/nullplatform"
    }
  }
}

provider "nullplatform" {}

resource "nullplatform_approval_action" "action" {
  nrn        = "organization=1:account=2:namespace=3:application=123"
  entity     = "deployment"
  action     = "deployment:create"
  dimensions = {
    environment = "prod"
  }
  on_policy_success = "approve"
  on_policy_fail    = "deny"
  lifecycle {
    ignore_changes = [policies]
  }
}

resource "nullplatform_approval_policy" "policy" {
  nrn        = "organization=1:account=2:namespace=3:application=123"
  name       = "Memory <= 4Gb"
  conditions = jsonencode({
    "scope.requested_spec.memory_in_gb" = {
      "$lte" = 4
    }
  })
}

resource "nullplatform_approval_action_policy_association" "association" {
  approval_action_id = nullplatform_approval_action.action.id
  approval_policy_id = nullplatform_approval_policy.policy.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `approval_action_id` (String) The ID of the approval action to associate with the policy
- `approval_policy_id` (String) The ID of the approval policy to associate with the action

### Read-Only

- `id` (String) The ID of this resource.
