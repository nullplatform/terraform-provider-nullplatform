---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "nullplatform_entity_hook_action Resource - nullplatform"
subcategory: ""
description: |-
  The entity hook action resource allows you to configure a nullplatform action for the entity hook workflow
---

# nullplatform_entity_hook_action (Resource)

The entity hook action resource allows you to configure a nullplatform action for the entity hook workflow

## Example Usage

```terraform
terraform {
  required_providers {
    nullplatform = {
      source = "nullplatform/nullplatform"
    }
  }
}

provider "nullplatform" {}

# Example 1: Entity hook action for scope creation before internal logic
resource "nullplatform_entity_hook_action" "scope_create_before" {
  nrn    = "organization=1:account=2:namespace=3:application=4"
  entity = "scope"
  action = "scope:create"

  dimensions = {
    environment = "production"
    country     = "us"
  }

  when = "before"
  type = "hook"
  on   = "create"

  on_policy_success = "manual"
  on_policy_fail    = "manual"
}

# Example 2: Entity hook action for deployment creation after internal logic
resource "nullplatform_entity_hook_action" "deployment_create_after" {
  nrn    = "organization=1:account=2:namespace=3:application=4"
  entity = "deployment"
  action = "deployment:create"

  dimensions = {
    environment = "production"
  }

  when = "after"
  type = "hook"
  on   = "create"

  on_policy_success = "manual"
  on_policy_fail    = "manual"
}

# Example 3: Entity hook action for application update using account slug
resource "nullplatform_entity_hook_action" "application_update" {
  account = "test-account"
  entity  = "application"
  action  = "application:write"

  when = "before"
  type = "hook"
  on   = "update"

  on_policy_success = "manual"
  on_policy_fail    = "manual"
}

# Example 4: Entity hook action for scope deletion
resource "nullplatform_entity_hook_action" "scope_delete" {
  nrn    = "organization=1:account=2:namespace=3:application=4"
  entity = "scope"
  action = "scope:delete"

  dimensions = {
    environment = "production"
  }

  when = "before"
  type = "hook"
  on   = "delete"

  on_policy_success = "manual"
  on_policy_fail    = "manual"
}

output "scope_create_id" {
  description = "The ID of the scope creation entity hook action"
  value       = nullplatform_entity_hook_action.scope_create_before.id
}

output "deployment_create_id" {
  description = "The ID of the deployment creation entity hook action"
  value       = nullplatform_entity_hook_action.deployment_create_after.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `action` (String) The specific action you want to be notified about. Possible values: [`deployment:create`, `deployment:write`, `deployment:delete`, `scope:create`, `scope:write`, `scope:delete`, `application:create`, `application:write`, `application:delete`]. Example: `scope:create`.
- `entity` (String) The type of entity affected by this entity hook action. Possible values: [`application`, `scope`, `deployment`]. Example: `scope`.
- `on` (String) Specifies the type of action that triggers the hook. Possible values: [`create`, `update`, `delete`]. Example: `create`.
- `on_policy_fail` (String) The action to be taken on entity hook failure. Note: Currently, only "manual" is supported. Possible values: [`manual`].
- `on_policy_success` (String) The action to be taken on the entity hook success. Note: Currently, only "manual" is supported. Possible values: [`manual`].
- `type` (String) The type of entity hook action. Note: Currently, only "hook" is supported. Possible values: [`hook`]. Example: `hook`.
- `when` (String) Specifies whether the hook occurs before or after nullplatform's internal logic. Possible values: [`before`, `after`]. Example: `before`.

### Optional

- `account` (String) The slug of the account NRN component.
- `application` (String) The slug of the application NRN component.
- `dimensions` (Map of String) Key-value pairs defining the scope of the action. Example: `{"environment":"production","country":"us"}`.
- `namespace` (String) The slug of the namespace NRN component.
- `nrn` (String) A system-wide unique ID representing the resource.
- `scope` (String) The slug of the scope NRN component.

### Read-Only

- `id` (String) The ID of this resource.
